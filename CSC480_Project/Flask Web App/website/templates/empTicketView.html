{% extends "base.html" %}
{% block title %}Home{% endblock%}
{%block content%} 
<link rel="stylesheet" href="{{ url_for('static', filename='empTicketView.css') }}"/>
<!----- Should this be the central hub for all users whenever they log in?
Shows all tickets + create new ticket field
what else?
-->

<!-- ---------- MAIN CONTENT ---------- -->
<div class="mainContent">
    <div class="row" id="ticketHeaders">
        <div class="column" style="width:5%"><p style="display:inline;font-size:small ;color:rgb(219, 218, 218); ">Ticket ID: </p><b>{{ticket.ticketID}}</b></div>
        <div class="column" style="width:5%"></div>
        <div class="column" style="width:25%"><p style="display:inline;font-size:small ;color:rgb(219, 218, 218); ">Ticket Type: </p><b>{{ticket.ticketType}}</b></div>
        <div class="column" style="width:10%"></div>
        <div class="column" style="width:25%"><p style="display:inline;font-size:small ;color:rgb(219, 218, 218); ">Days in queue: </p><b>{{queueTime}}</b></div>
    </div>
    <!-- ---------- RIGHT SIDEBAR ---------- -->
    <!-- ---------- CENTER PT.1 | NEW TICKET ---------- -->
    <div style="padding-top: 30px; width: 100%;">
        <div class="row">
            <div class="column" style="margin-left:25%; width:49%">
                <p style="margin-bottom:2px;"><b>{{employee.firstName}}</b></p>
                <p style="margin-bottom:0"><b>Employee grabbed ticket</b></p>
                <p style="padding-top:-5px; font-size:small ;color:rgb(146, 143, 143);">{{ticket.empDateTaken}}</p>
                <p>|</p>
            </div>
            <div class="column" style="width:20%; text-align:right">
                <p style="margin-bottom:2px;"><b>{{creator.firstName}}</b></p>
                <p style="margin-bottom:0"><b>Employee Resolved Ticket</b></p>
                <p style="padding-top:-5px; font-size:small ;color:rgb(146, 143, 143);">{{ticket.dateResolved}}</p>
                <p>|</p>
            </div>
        </div>
        <div class="meter" style="margin-left:5%; margin-right:5%;width:90%">
            <span style="width:{{progress}}%;"><span class="progress"></span></span>
        </div>
        <div class="row" style="margin-left:5%">
            <div class="column" style="width:30%">
                <p>|</p>
                <p style="margin-bottom:2px;"><b>{{creator.firstName}}</b></p>
                <p style="margin-bottom:0"><b>User Created Ticket</b></p>
                <p style="padding-top:-5px; font-size:small ;color:rgb(146, 143, 143);">{{ticket.dateCreated}}</p>
                <p>{{ticket.ticketComments}}</p>
            </div>
            <div class="column"  style="margin-left:20%; width:20%">
                <p>|</p>
                <p style="margin-bottom:2px;"><b>{{creator.firstName}}</b></p>
                <p style="margin-bottom:0"><b>Employee Responded</b></p>
                <p style="padding-top:-5px; font-size:small ;color:rgb(146, 143, 143);">{{ticket.empDateRespond}}</p>
                <p>{{ticket.empTicketComments}}</p>
            </div>
        </div>
    </div>  
    <form method="POST">
        <input type="hidden" name="resolve" value="resolve">
        <button type="submit" style="float:right; margin-right:45px; position:relative" class="btn btn-primary btn-login">Resolve This Ticket</button>
    </form>

    <br/>
    <br/>
    <br/>
    <br/>

    <br/>
    <br/>
    <br/>
    <br/>
    <div id="updateContainer">
        <h4><b>Update Ticket</b></h4>
        <form method="POST">
            <label>Add Response</label>
            <textarea style="height: 120px; margin-bottom: 10px;" max-length='140' name ="empTicketComments" id="empTicketComments" class="form-control" placeholder="Response..."></textarea>
            <button type="submit" style="float:right; position:relative" class="btn btn-primary btn-login">Update</button>
        </form>
    </div>
    <br/>
</div>
{%endblock%}